{% extends 'Upper_layer/base.html' %}
{% load static %}

{% block head %}
<title>Salon Page</title>
<link rel="stylesheet" href="{% static 'Upper_Layer/css/salon.css' %}">
<link href="{% static 'bootstrap.min.css' %}" rel="stylesheet">
<link rel="stylesheet" href="{% static 'Upper_Layer/css/salon_modal.css' %}">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet"> -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}

{% block body %}
<div class="container-fluid custom-bg py-3 custom-margin-top">
    <div class="d-flex justify-content-center mb-1"> <!-- Changed from mb-4 to mb-2 -->
        <button class="btn neon-btn rounded-pill p-2 me-2 iconbtn" data-category="salon">
            <img src="{% static 'images/user.jpg' %}" alt="icon-pic" class="icon-pic rounded-circle me-2"
                style="width: 25px; height: 25px;">
            <span class="fs-6">SALON</span>
        </button>
        <button class="btn neon-btn rounded-pill p-2 me-2 iconbtn" data-category="product">
            <img src="{% static 'images/user.jpg' %}" alt="icon-pic" class="icon-pic rounded-circle me-2"
                style="width: 25px; height: 25px;">
            <span class="fs-6">PRODUCT</span>
        </button>
        <button class="btn neon-btn rounded-pill p-2 iconbtn" data-category="other">
            <img src="{% static 'images/user.jpg' %}" alt="icon-pic" class="icon-pic rounded-circle me-2"
                style="width: 25px; height: 25px;">
            <span class="fs-6">OTHER</span>
        </button>
    </div>
</div>

<div id="container" class="row g-4">
    <div class="container my-5 px-3 px-md-5">
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <!-- Card 1 as Button -->
            <div class="col d-flex justify-content-center">
                <button class="card shadow border-0 rounded transition-transform card-custom p-0 salon-type"
                    data-category="salon" data-type='men'
                    style="max-width: 300px; overflow: hidden; transition: transform 0.3s; cursor: pointer; background: none; border: none;">
                    <img src="{% static 'images/mens_salon.jpg' %}" class="card-img-top" alt="Men Salon"
                        style="height: 120px; object-fit: cover;">
                    <div class="card-body p-2">
                        <h5 class="card-title text-center text-dark fs-6">Men Salon</h5>
                        <p class="card-text text-secondary fs-7">Find the best salons for men with high-quality services
                            and products.</p>
                    </div>
                </button>
            </div>
            <!-- Card 2 as Button -->
            <div class="col d-flex justify-content-center">
                <button class="card shadow border-0 rounded transition-transform card-custom p-0 salon-type"
                    data-category="salon" data-type='women'
                    style="max-width: 300px; overflow: hidden; transition: transform 0.3s; cursor: pointer; background: none; border: none;">
                    <img src="{% static 'images/women_salon.jpeg' %}" class="card-img-top" alt="Women Salon"
                        style="height: 120px; object-fit: cover;">
                    <div class="card-body p-2">
                        <h5 class="card-title text-center text-dark fs-6">Women Salon</h5>
                        <p class="card-text text-secondary fs-7">Explore top-rated salons for women offering premium
                            beauty treatments.</p>
                    </div>
                </button>
            </div>
            <!-- Card 3 as Button -->
            <div class="col d-flex justify-content-center">
                <button class="card shadow border-0 rounded transition-transform card-custom p-0 salon-type"
                    data-category="salon" data-type='unisex'
                    style="max-width: 300px; overflow: hidden; transition: transform 0.3s; cursor: pointer; background: none; border: none;">
                    <img src="{% static 'images/unisex.jpeg' %}" class="card-img-top" alt="Unisex Salon"
                        style="height: 120px; object-fit: cover;">
                    <div class="card-body p-2">
                        <h5 class="card-title text-center text-dark fs-6">Unisex Salon</h5>
                        <p class="card-text text-secondary fs-7">Discover versatile salons that cater to all genders
                            with excellent services.</p>
                    </div>
                </button>
            </div>
        </div>
    </div>


    <h1 class="custom-heading text-success fw-bold text-decoration-underline my-5 ms-custom">Top-rated Salons</h1>




    <div id="carouselExampleControls" class="carousel slide">
        <div class="carousel-inner">
            {% for batch in salon_batches %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <div class="container">
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        {% for salon in batch %}
                        <div class="col d-flex justify-content-center">
                            <div class="card shadow border-0 rounded">
                                <img src="{{ salon.image.url }}" class="card-img-top fixed-image"
                                    alt="{{ salon.name }}">
                                <div class="card-body p-3">
                                    <h5 class="card-title text-center">{{ salon.name }}</h5>
                                    <div class="text-center">
                                        <button class="btn btn-primary btn-sm openNestedModal"
                                            data-button-id="{{salon.id}}"
                                            onclick="fetchSalonDetails('{{ salon.id }}')">View Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <button class="carousel-control-prev custom-carousel-controls" type="button"
            data-bs-target="#carouselExampleControls" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next custom-carousel-controls" type="button"
            data-bs-target="#carouselExampleControls" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>

    </div>

 
    
</div>

<!-- open modal for salon details -->
<div class="modal fade" id="nestedModal" tabindex="-1" aria-labelledby="nestedModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen"> <!-- Changed to 'modal-fullscreen' for full-screen -->
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title" id="nestedModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="nestedModalBody">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>
</div>


<!-- open modal for profile -->
<div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">User Profile</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="profile-body">
                {% include 'Upper_layer/profile.html' %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>


<script src="{% static 'Upper_Layer/js/salon.js' %}"></script>
<script src="{% static 'Upper_Layer/js/salon_modal.js' %}"></script>
<script src="{% static 'Upper_Layer/js/appointment.js' %}"></script>
<script src="{% static 'bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'bootstrap.bundle.min.js' %}"></script>



<script>
    
</script>
{% endblock %}